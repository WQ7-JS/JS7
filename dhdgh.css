$content-background-colour: white;
$content-background-accent-colour: #f9f9fb;
$content-border-colour: rgba(0,0,0,0.05);
$content-border-radius-md: 16px;
$content-border-radius-lg: 32px;
$content-gutter-md: 20px;
$content-gutter-sm: 10px;

$transition-duration-short: 200ms;
$transition-duration-medium: 400ms;


// Top level junk
*, *::before, *::after {
  box-sizing: border-box;
}

body {
  background-color: #f5f5f9;
}

img {
  max-width: 100%;
  display: block;
}


// Generic UI elements
.container {
  width: 900px;
  max-width: 100%;
  margin-right: auto;
  margin-left: auto;
  margin-top: 60px;
  margin-bottom: 60px;
  padding-right: $content-gutter-md;
  padding-left: $content-gutter-md;
  
  &__item {
    &:nth-child(n+2) {
      margin-top: 60px;
    }
  }
}

.widget {
  background: white;
  border-radius: 8px;
  padding: $content-gutter-md;
  box-shadow: 0px 2px 5px -1px rgba(0,0,0,0.1);
}






// Scroller CSS
horizontal-scroll {
  display: block;
  width: 100%;
  height: 100%;
  position: relative;
  
  &::before,
  &::after {
    content: "";
    position: absolute;
    top: 0;
    height: 100%;
    width: #{$content-gutter-md * 1.5};
    z-index: 2;
  }
  
  &::before {
    left: 0;
    background-image: linear-gradient(to right, #f5f5f9 0%, rgba(#f5f5f9, 0) 100%);
  }
  
  &::after {
    right: 0;
    background-image: linear-gradient(to left, #f5f5f9 0%, rgba(#f5f5f9, 0) 100%);
  }
  

    div[data-layout="horizontal-scroll-body"] {
        -webkit-overflow-scrolling: touch;
        overflow-x: scroll;
        scroll-padding: 0 50%;
        scroll-snap-type: x proximity;
        height: 100%;

        padding-left: $content-gutter-md;
        padding-right: $content-gutter-md;
    }

    div[data-layout="horizontal-scroll-runner"] {
        display: flex;
        white-space: nowrap;
        align-items: stretch;
        height: 100%;
    }


    horizontal-scroll-item {
        white-space: normal;
        flex: 0 0 auto;
        width: 22.5%;
        scroll-snap-align: center;
        display: flex;
        align-items: stretch;
        justify-content: stretch;
        padding-top: $content-gutter-sm;
        padding-bottom: $content-gutter-sm;
        padding-left: #{$content-gutter-md / 2};
        padding-right: #{$content-gutter-md / 2};

        padding: $content-gutter-md #{$content-gutter-md / 2};

        > * {
            flex: 1 1 auto;
            min-width: 0;
            max-width: 100%;
        }
    }

    &[data-visible-count="1"] {
        horizontal-scroll-item {
            width: calc(#{100% / 1} * 0.95);
        }
    }

    &[data-visible-count="2"] {
        horizontal-scroll-item {
            width: calc(#{100% / 2} * 0.95);
        }
    }

    &[data-visible-count="3"] {
        horizontal-scroll-item {
            width: calc(#{100% / 3} * 0.95);
        }
    }

    &[data-visible-count="4"] {
        horizontal-scroll-item {
            width: calc(#{100% / 4} * 0.95);
        }
    }

    &[data-visible-count="5"] {
        horizontal-scroll-item {
            width: calc(#{100% / 5} * 0.95);
        }
    }

    &[data-visible-count="6"] {
        horizontal-scroll-item {
            width: calc(#{100% / 6} * 0.95);
        }
    }

    &[data-visible-count="7"] {
        horizontal-scroll-item {
            width: calc(#{100% / 7} * 0.95);
        }
    }


    > [data-role="horizontal-scroll-nav-prev"],
    > [data-role="horizontal-scroll-nav-next"] {
        position: absolute;
        top: 50%;
        background: none;
        border: 0;
        padding: 5px;
        border-radius: 50%;
        background: $content-background-colour;
        font-size: 2.5em;
        margin-top: calc((1.15em + 5px) * -1);
        z-index: 1;
        transition: all $transition-duration-short;
        box-shadow: 0px 2px 10px rgba(black, 0.15);

        &[disabled] {
            opacity: 0.65;
            pointer-events: default;
        }

        &:hover:not([disabled]),
        &:focus:not([disabled]) {
            transform: translateY(-2px);
        }
    }

    > [data-role="horizontal-scroll-nav-prev"] {
        left: $content-gutter-md;

        > [data-role="icon"] {
            transform: translateX(-2.5%);
        }
    }

    > [data-role="horizontal-scroll-nav-next"] {
        right: $content-gutter-md;

        > [data-role="icon"] {
            transform: translateX(2.5%);
        }
    }
}


// UI Cards
card {
  display: block;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

card {
    display: flex;
    flex-flow: column nowrap;
    border-radius: $content-border-radius-md;
    background-color: $content-background-colour;
    border: solid 1px $content-border-colour;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.055), 0px 5px 30px -2px rgba(0, 0, 0, 0.085);
    transition: box-shadow $transition-duration-short,
                transform $transition-duration-short;

    &[data-has-hover-state] {
        &:hover {
            transform: translateY(-2px);
            box-shadow: 0px 1px 12px rgba(0, 0, 0, 0.045), 0px 5px 40px -2px rgba(0, 0, 0, 0.075);
        }
    }
   
    &[data-card-theme="transparent"] {
        background-color: transparent;
        border-color: transparent;
    }

  a {
    display: block;
    color: inherit;
    text-decoration: none;
  }

    card-header {
        display: block;
        position: relative;
        border-top-right-radius: inherit;
        border-top-left-radius: inherit;
        flex: 0 0 auto;

        &[data-has-radius] {
            border-bottom-right-radius: $content-border-radius-lg;
        }
        
        aspect-ratio {
          display: block;
          border-radius: inherit;
          
          a {
            border-radius: inherit;
            display: block;
            color: inherit;
          }
        }
      
        img {
            width: 100%;
            overflow: hidden;
            border-radius: inherit;
        }
    }


    card-body {
        display: block;
        flex: 1 1 auto;
        min-height: 0;
        padding: $content-gutter-md;
      
        

        &[data-gutter-size="sm"] {
            padding: $content-gutter-sm;
        }
    }

  [data-role="title"] {
    color: inherit;
    margin: 0;
  }
  
  [data-role] {
    &:nth-child(n+2) {
      margin-top: $content-gutter-md;
    }
  }

    card-footer {
        display: block;
        flex: 0 0 auto;
        padding: $content-gutter-md;
        padding-top: 0;
    }
  
  
  
  [data-role="age-rating"] {
    position: absolute;
    bottom: 8px;
    left: 8px;
  }
}

// Age ratings
age-rating {
    display: inline-block;
    background: transparent;
    border-radius: 3px;
    padding: 0.3em 0.4em 0.1em;
    color: white;
    font-weight: 600;
    font-size: 0.65em;


    &.esrb-ec {
        background: #a5d541;
    }
    &.esrb-e {
        background: #a5d541;
    }
    &.esrb-e10 {
        background: #faaa31;
    }
    &.esrb-t {
        background: #faaa31;
    }
    &.esrb-m {
        background: #ea3731;
    }
    &.esrb-aO {
        background: #ea3731;
    }
    &.esrb-rp {
        background: #ea3731;
    }

    &.pegi-3 {
        background: #a5d541;
    }
    &.pegi-7 {
        background: #a5d541;
    }
    &.pegi-12 {
        background: #faaa31;
    }
    &.pegi-16 {
        background: #faaa31;
    }
    &.pegi-18 {
        background: #ea3731;
    }
}

// Tags
tag-list {
    display: block;

    &[data-single-line] {
        overflow: hidden;
        flex-wrap: nowrap;
    }

    tag-list-inner {
        display: inline-flex;
        align-items: flex-start;
        flex-flow: row wrap;
        max-width: 100%;
    }
}

tag {
    $_padding-top: 4px;
    $_padding-left: 6px;

    display: inline-flex;
    align-items: center;
    background: $content-background-accent-colour;
    border: solid 1px $content-border-colour;
    border-radius: 2em;
    flex: 0 1 auto;
    min-width: 0;
    line-height: 1;
    margin-right: 4px;
    margin-bottom: 6px;
    cursor: default;
    vertical-align: baseline;

    &:last-of-type {
        margin-right: 0;
    }

    div[data-role="tag-icon"] {
        display: block;
        flex: 0 0 auto;
        padding-right: $_padding-left;
    }

    div[data-role="tag-image"] {
        display: block;
        border-radius: 50%;
        flex: 0 0 auto;
        width: calc(1em + #{$_padding-top * 2});
        z-index: 1;
        position: relative;
        overflow: hidden;
        align-self: stretch;
    }

    div[data-role="tag-content"] {
        display: block;
        padding: $_padding-top $_padding-left;
        flex: 1 1 auto;
        min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: 0.75em;
    }
}
